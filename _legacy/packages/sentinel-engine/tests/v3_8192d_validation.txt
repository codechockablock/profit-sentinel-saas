======================================================================
VSA vs BASELINE VALIDATION
======================================================================
Run time: 2026-01-17T13:08:23.018496

Generating synthetic dataset...
  Total rows: 10000
  low_stock: 500 anomalies (5.0%)
  high_margin_leak: 500 anomalies (5.0%)
  dead_item: 500 anomalies (5.0%)
  negative_inventory: 500 anomalies (5.0%)
  overstock: 500 anomalies (5.0%)
  price_discrepancy: 500 anomalies (5.0%)
  shrinkage_pattern: 500 anomalies (5.0%)
  margin_erosion: 500 anomalies (5.0%)

Running BASELINE detector...
  Completed in 0.05s

Running VSA detector...
  Completed in 9.36s

======================================================================
RESULTS
======================================================================

Primitive                 Method         Prec   Recall       F1     TP     FP     FN
-------------------------------------------------------------------------------------
low_stock                 BASELINE     54.9%  100.0%   70.9%    500    410      0
                          VSA           0.0%    0.0%    0.0%      0      0    500

high_margin_leak          BASELINE     55.6%  100.0%   71.5%    500    399      0
                          VSA           0.0%    0.0%    0.0%      0      0    500

dead_item                 BASELINE     73.3%  100.0%   84.6%    500    182      0
                          VSA           0.0%    0.0%    0.0%      0      0    500

negative_inventory        BASELINE    100.0%  100.0%  100.0%    500      0      0
                          VSA           0.0%    0.0%    0.0%      0      0    500

overstock                 BASELINE    100.0%   99.8%   99.9%    499      0      1
                          VSA           0.0%    0.0%    0.0%      0      0    500

price_discrepancy         BASELINE     51.8%   80.8%   63.1%    404    376     96
                          VSA           0.0%    0.0%    0.0%      0      0    500

shrinkage_pattern         BASELINE    100.0%   96.2%   98.1%    481      0     19
                          VSA           0.0%    0.0%    0.0%      0      0    500

margin_erosion            BASELINE     55.2%  100.0%   71.2%    500    405      0
                          VSA           0.0%    0.0%    0.0%      0      0    500

======================================================================
SUMMARY
======================================================================

BASELINE Averages:
  Precision: 73.9%
  Recall:    97.1%
  F1:        82.4%
  Time:      0.05s

VSA Averages:
  Precision: 0.0%
  Recall:    0.0%
  F1:        0.0%
  Time:      9.36s

VSA vs BASELINE:
  F1 Difference: -82.4% (Baseline better)

======================================================================
RECOMMENDATION
======================================================================

  KILL - Critical primitives failing (recall < 30%)
    - negative_inventory: 0.0% recall
    - high_margin_leak: 0.0% recall

  Results saved to: /Users/joseph/profit-sentinel-saas/packages/sentinel-engine/tests/validation_results.json
